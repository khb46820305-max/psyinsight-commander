# 자동화 가이드: 뉴스 및 논문 자동 수집

## 🤔 현재 계획된 자동화 방식

### 기본 방식 (Iteration 5에서 구현 예정)
- **Python `schedule` 라이브러리** 사용
- Streamlit 앱이 실행 중일 때만 작동
- Tab 1: 매일 새벽 2시 자동 수집
- Tab 2: 매주 월요일 자동 수집

---

## ⚠️ 중요한 제약사항

### 1. 로컬 실행 시
**문제점:**
- PC가 켜져있고 Streamlit 앱이 실행 중이어야 함
- PC를 끄거나 앱을 종료하면 자동 수집이 중단됨
- 24시간 실행하려면 PC를 계속 켜둬야 함

**해결책:**
- 별도 수집 스크립트를 만들어서 Windows 작업 스케줄러나 cron job으로 실행
- 또는 클라우드 서버에서 실행

### 2. Streamlit Cloud 배포 시
**문제점:**
- Streamlit Cloud 무료 티어는 **사용자가 접속하지 않으면 앱이 잠들 수 있음**
- 24/7 자동 실행이 보장되지 않음

**해결책:**
- 별도 수집 스크립트를 클라우드 스케줄러로 실행
- 또는 유료 호스팅 서비스 사용 (Railway, Render 등)

---

## ✅ 권장 자동화 방식

### 방식 1: 별도 수집 스크립트 + 스케줄러 (추천)

#### 구조
```
프로젝트/
├── app.py              # Streamlit 대시보드 (UI만)
├── collect_news.py      # 뉴스 수집 스크립트 (독립 실행)
├── collect_papers.py    # 논문 수집 스크립트 (독립 실행)
└── modules/
    ├── news_collector.py
    ├── paper_collector.py
    └── database.py
```

#### 작동 방식
1. **수집 스크립트**: 독립적으로 실행 가능한 Python 스크립트
2. **스케줄러**: 
   - Windows: 작업 스케줄러 (Task Scheduler)
   - Mac/Linux: cron job
   - 클라우드: GitHub Actions, Railway Cron, Render Cron

#### 장점
- ✅ Streamlit 앱이 꺼져있어도 수집 가능
- ✅ 클라우드에서도 24/7 자동 실행 가능
- ✅ 수집과 UI가 분리되어 안정적

#### 예시: Windows 작업 스케줄러
```
작업: 매일 새벽 2시 실행
명령: python C:\프로젝트경로\collect_news.py
```

---

### 방식 2: Streamlit 앱 내 스케줄러 (간단하지만 제한적)

#### 작동 방식
- Streamlit 앱이 실행 중일 때만 작동
- 백그라운드 스레드에서 `schedule` 라이브러리로 스케줄링

#### 장점
- ✅ 구현이 간단함
- ✅ 별도 스크립트 불필요

#### 단점
- ❌ 앱이 꺼지면 자동 수집 중단
- ❌ Streamlit Cloud 무료 티어에서는 불안정

---

## 🚀 구현 권장 사항

### Phase 1: 기본 자동화 (간단)
- Streamlit 앱 내 스케줄러 구현
- 앱이 실행 중일 때만 작동
- **용도**: 개발/테스트, 개인 PC에서 24시간 실행

### Phase 2: 고급 자동화 (안정적)
- 별도 수집 스크립트 생성
- 클라우드 스케줄러 연동
- **용도**: 프로덕션, 24/7 자동 실행

---

## 📋 구현 체크리스트

### 기본 자동화 (Iteration 5)
- [ ] `modules/scheduler.py` 생성
- [ ] Streamlit 앱 내 스케줄러 구현
- [ ] 백그라운드 스레드 실행
- [ ] 로깅 기능

### 고급 자동화 (Phase 3 추가)
- [ ] `collect_news.py` 독립 스크립트 생성
- [ ] `collect_papers.py` 독립 스크립트 생성
- [ ] Windows 작업 스케줄러 설정 가이드 작성
- [ ] GitHub Actions 스케줄러 설정 (선택)
- [ ] Railway/Render Cron 설정 가이드 (선택)

---

## 💡 실제 사용 시나리오

### 시나리오 1: 로컬 PC에서 24시간 실행
1. PC를 켜둠
2. `streamlit run app.py` 실행
3. 앱이 백그라운드에서 계속 실행
4. 매일 새벽 2시 자동 수집
5. **단점**: PC를 꺼면 중단

### 시나리오 2: 별도 스크립트 + 작업 스케줄러
1. `collect_news.py`를 Windows 작업 스케줄러에 등록
2. 매일 새벽 2시 자동 실행
3. Streamlit 앱은 필요할 때만 실행
4. **장점**: PC가 켜져있기만 하면 앱 없이도 수집 가능

### 시나리오 3: 클라우드 배포 + GitHub Actions
1. GitHub에 코드 푸시
2. GitHub Actions로 매일 새벽 2시 스크립트 실행
3. Streamlit Cloud에 대시보드 배포
4. **장점**: 완전 자동화, 24/7 실행 보장

---

## 🎯 결론

**현재 계획대로 만들면:**
- ✅ 앱이 실행 중일 때는 자동으로 수집됨
- ❌ 앱이 꺼지면 수집이 중단됨

**완전 자동화를 원한다면:**
- 별도 수집 스크립트를 추가로 만들어야 함
- 스케줄러(작업 스케줄러, cron, GitHub Actions 등)로 실행

**권장:**
1. 먼저 기본 자동화 구현 (Iteration 5)
2. 필요시 고급 자동화 추가 (Phase 3)

---

---

## 📧 이메일 알림 기능 추가

### 기능
- 수집 완료 후 자동으로 이메일 발송
- 헤드라인 요약 형식으로 발송
- 새로 수집된 항목만 포함

### 설정
- Gmail SMTP 사용 (무료)
- 환경 변수로 이메일 계정 정보 관리
- 자세한 설정 방법은 `EMAIL_SETUP_GUIDE.md` 참조

---

**✅ 사용자 요구사항 반영: 완전 자동화 + 이메일 발송 기능 추가 완료!**
