# PsyInsight Commander 작업 관리 대장

## 프로젝트 목표
심리학 전문가를 위한 통합 대시보드 웹 애플리케이션 개발
- 뉴스, 논문 수집/분석
- AI 기반 요약 및 평가
- 콘텐츠 재생산 기능
- **참고**: 커뮤니티 분석(Tab 2)은 제외 (API 접근 어려움)

---

## 현재 상태
**마지막 업데이트**: 프로젝트 초기화
**현재 이터레이션**: Phase 1 (MVP 개발)
**전체 진행률**: 0%

---

## Phase 1: MVP 개발 (최소 기능 제품)

### Iteration 1: 프로젝트 초기 설정 및 인프라 구축
**예상 시간**: 4-6시간
**우선순위**: 최고

- [ ] 프로젝트 디렉토리 구조 생성
  - [ ] `app.py` (메인 Streamlit 앱)
  - [ ] `modules/` 폴더 생성
  - [ ] `data/` 폴더 생성 (DB 저장소)
  - [ ] `config/` 폴더 생성 (설정 파일)
- [ ] `requirements.txt` 작성
  - [ ] streamlit
  - [ ] google-generativeai
  - [ ] sqlite3 (내장)
  - [ ] feedparser
  - [ ] requests
  - [ ] schedule
  - [ ] python-dotenv
- [ ] 환경 설정
  - [ ] `.env.example` 파일 생성
  - [ ] `.gitignore` 작성 (API 키 제외)
  - [ ] Streamlit Secrets 설정 가이드 작성
- [ ] 데이터베이스 초기화
  - [ ] `database.py` 모듈 생성
  - [ ] SQLite DB 스키마 생성 (articles, papers 테이블)
  - [ ] 초기 마이그레이션 스크립트 작성

---

### Iteration 2: Gemini AI 엔진 구축
**예상 시간**: 6-8시간
**우선순위**: 최고

- [ ] `modules/ai_engine.py` 생성
  - [ ] Gemini API 클라이언트 초기화 함수
  - [ ] API 키 로드 (환경 변수 또는 Streamlit Secrets)
- [ ] AI 함수 구현
  - [ ] `generate_summary(text)`: 3줄 요약 생성
  - [ ] `evaluate_article(text)`: 전문성 평가 (1~5점)
  - [ ] `extract_keywords(text)`: 키워드 추출
  - [ ] `extract_pain_points(text)`: Pain Point 추출 (선택 사항, 향후 확장용)
  - [ ] `summarize_paper(abstract)`: 논문 요약
- [ ] 에러 처리
  - [ ] API 호출 실패 시 재시도 로직
  - [ ] 타임아웃 설정 (10초)
  - [ ] 로깅 기능 추가

---

### Iteration 3: Tab 1 - 사이콜로지 트랜드 레이더 (기본 기능)
**예상 시간**: 10-12시간
**우선순위**: 최고

#### 3.1 뉴스 수집 모듈
- [ ] `modules/news_collector.py` 생성
- [ ] Google News RSS Feed 파싱
  - [ ] 키워드: '심리', '마음건강', '뇌과학', '상담'
  - [ ] 미국/한국 뉴스 분리 수집
- [ ] 뉴스 원문 스크래핑
  - [ ] `requests` + `BeautifulSoup` 사용
  - [ ] 에러 처리 (접근 불가 시 스킵)
- [ ] 중복 제거 로직 (URL 기준)

#### 3.2 AI 분석 및 저장
- [ ] 수집된 뉴스를 AI 엔진으로 분석
  - [ ] 요약 생성
  - [ ] 키워드 추출
  - [ ] 전문성 평가
- [ ] 데이터베이스에 저장
  - [ ] `articles` 테이블에 INSERT
  - [ ] 중복 체크 (URL 기준)

#### 3.3 UI 구현
- [ ] Streamlit Tab 1 UI 생성
- [ ] 카드 형태 뉴스 표시
  - [ ] 제목, 요약, 링크, 평점 표시
  - [ ] 해시태그 표시
- [ ] 기본 페이지네이션
  - [ ] 페이지당 10개 항목
  - [ ] 최신순 정렬

---

### Iteration 4: Tab 2 - 아카데믹 아카이브 (기본 기능)
**예상 시간**: 8-10시간
**우선순위**: 높음

#### 4.1 논문 수집 모듈
- [ ] `modules/paper_collector.py` 생성
- [ ] arXiv API 연동
  - [ ] 심리학 카테고리 필터링
  - [ ] 최신 논문 수집 (주 1회)
- [ ] PubMed API 연동 (선택)
  - [ ] `biopython` 라이브러리 사용
  - [ ] 키워드 검색
- [ ] 논문 메타데이터 추출
  - [ ] 제목, 저자, 저널, 초록

#### 4.2 AI 요약 및 저장
- [ ] 논문 초록을 AI 엔진으로 요약
  - [ ] 연구 목적, 방법, 결과, 시사점 구조화
- [ ] 데이터베이스에 저장
  - [ ] `papers` 테이블에 INSERT

#### 4.3 UI 구현
- [ ] Streamlit Tab 2 UI 생성
- [ ] 카드 형태 논문 표시
  - [ ] 제목, 저자, 저널, 요약 미리보기
- [ ] 기본 검색 기능
  - [ ] 제목/저자 검색

---

### Iteration 5: 완전 자동화 및 이메일 발송
**예상 시간**: 8-12시간
**우선순위**: 높음 (사용자 요구사항)

#### 5.1 별도 수집 스크립트 생성
- [ ] `collect_news.py` 독립 스크립트 생성
  - [ ] 뉴스 수집 모듈 호출
  - [ ] AI 분석 및 DB 저장
  - [ ] 수집 결과 로깅
- [ ] `collect_papers.py` 독립 스크립트 생성
  - [ ] 논문 수집 모듈 호출
  - [ ] AI 분석 및 DB 저장
  - [ ] 수집 결과 로깅

#### 5.2 이메일 발송 모듈
- [ ] `modules/email_sender.py` 생성
- [ ] Gmail SMTP 설정
  - [ ] 환경 변수에서 계정 정보 로드
  - [ ] 앱 비밀번호 사용 가이드 작성
- [ ] 이메일 템플릿 생성
  - [ ] HTML 형식 템플릿
  - [ ] 헤드라인 요약 형식
  - [ ] 링크 포함
- [ ] 이메일 발송 함수 구현
  - [ ] `send_news_summary()`: 뉴스 헤드라인 발송
  - [ ] `send_papers_summary()`: 논문 헤드라인 발송
  - [ ] 에러 처리 및 로깅

#### 5.3 수집 스크립트에 이메일 연동
- [ ] `collect_news.py`에 이메일 발송 추가
  - [ ] 수집 완료 후 자동 발송
  - [ ] 새로 수집된 항목만 포함
- [ ] `collect_papers.py`에 이메일 발송 추가
  - [ ] 수집 완료 후 자동 발송

#### 5.4 스케줄러 설정 가이드
- [ ] Windows 작업 스케줄러 설정 가이드 작성
  - [ ] `collect_news.py` 매일 새벽 2시 실행
  - [ ] `collect_papers.py` 매주 월요일 새벽 2시 실행
- [ ] GitHub Actions 스케줄러 설정 (선택)
  - [ ] `.github/workflows/collect_news.yml` 생성
  - [ ] `.github/workflows/collect_papers.yml` 생성

---

## Phase 2: 확장 기능 개발

### Iteration 6: Tab 1 고급 기능
**예상 시간**: 6-8시간
**우선순위**: 높음

- [ ] 검색 기능 구현
  - [ ] 키워드 검색 (제목, 요약, 키워드)
  - [ ] 실시간 필터링
- [ ] 카테고리 필터
  - [ ] 해시태그 기반 필터링
  - [ ] 다중 선택 가능
- [ ] 정렬 기능
  - [ ] 날짜순 (최신/오래된순)
  - [ ] 평점순 (높은/낮은순)

---

### Iteration 7: Tab 3 - 콘텐츠 팩토리
**예상 시간**: 10-16시간
**우선순위**: 높음

#### 7.1 콘텐츠 선택 기능
- [ ] Tab 1~2에 체크박스 추가
- [ ] 선택된 항목 임시 저장 (세션 또는 DB)

#### 7.2 템플릿 설계
- [ ] 블로그 포스트 템플릿
- [ ] 릴스 대본 템플릿
- [ ] 게시글 템플릿
- [ ] 논문 아이디어 템플릿

#### 7.3 AI 콘텐츠 생성
- [ ] Gemini API로 템플릿 기반 생성
- [ ] 토큰 제한 처리 (입력이 많을 경우 요약)
- [ ] 결과 미리보기

#### 7.4 UI 구현
- [ ] Streamlit Tab 3 UI 생성
- [ ] 템플릿 선택 (라디오/체크박스)
- [ ] 생성 버튼
- [ ] 결과 표시 및 복사 기능

---

## Phase 3: 고도화 및 최적화

### Iteration 9: 성능 최적화
**예상 시간**: 4-6시간
**우선순위**: 낮음

- [ ] 데이터베이스 인덱싱
  - [ ] 검색 성능 향상
- [ ] 캐싱 기능
  - [ ] 이미 수집한 데이터 재요청 방지
- [ ] 페이지 로딩 최적화
  - [ ] 지연 로딩 (Lazy Loading)

---

### Iteration 10: UI/UX 개선
**예상 시간**: 6-8시간
**우선순위**: 낮음

- [ ] 반응형 디자인 개선
- [ ] 다크 모드 지원 (선택)
- [ ] 애니메이션 및 시각적 피드백
- [ ] 사용자 가이드/도움말 추가

---

### Iteration 11: 배포 준비
**예상 시간**: 4-6시간
**우선순위**: 중간

- [ ] Streamlit Cloud 배포 설정
  - [ ] `requirements.txt` 최종 확인
  - [ ] Secrets 설정 가이드
- [ ] 문서화
  - [ ] README.md 작성
  - [ ] 사용자 매뉴얼
  - [ ] 개발자 가이드
- [ ] 테스트
  - [ ] 각 Tab 기능 테스트
  - [ ] 에러 케이스 테스트

---

## 버그 및 개선 사항
- (현재 없음)

---

## 다음 작업 제안
1. **즉시 시작**: Iteration 1 (프로젝트 초기 설정)
2. **병렬 작업 가능**: Iteration 2 (AI 엔진)와 Iteration 3 (Tab 1) 일부

---

## 참고사항
- 모든 작업 완료 시 이 파일을 업데이트해야 합니다.
- 각 Iteration 완료 후 사용자 피드백 수집 및 반영
- API 키는 절대 코드에 하드코딩하지 말 것

---

**총 예상 작업 시간 (MVP)**: 30-40시간
**총 예상 작업 시간 (전체)**: 50-70시간 (Tab 2 제외로 인해 단축)
