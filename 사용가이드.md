# PsyInsight Commander 사용 가이드

## 🚀 빠른 시작

### 1단계: 환경 설정

#### 1.1 Python 설치 확인
```bash
python --version
# Python 3.9 이상이어야 합니다
```

#### 1.2 의존성 설치
```bash
# 프로젝트 폴더로 이동
cd C:\EX

# 필요한 라이브러리 설치
pip install -r requirements.txt
```

#### 1.3 환경 변수 설정

`.env` 파일을 생성하고 다음 내용을 입력하세요:

```env
# Gemini API 키 (필수)
# 발급: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIzaSyDvgTdju4cNj-x4MNXV_8Hv2xRRrS8rZ-o

# Gmail 이메일 설정 (이메일 발송 기능 사용 시)
EMAIL_SENDER=khb46820305@gmail.com
EMAIL_PASSWORD=*apel*0305
EMAIL_RECEIVER=khb4682@naver.com
```

**Gmail 앱 비밀번호 생성 방법:**
1. Google 계정 설정 접속: https://myaccount.google.com/
2. 보안 → 2단계 인증 (활성화 필요)
3. 앱 비밀번호 생성
   - "앱 선택" → "메일"
   - "기기 선택" → "Windows 컴퓨터"
4. 생성된 16자리 비밀번호 복사

---

### 2단계: 데이터베이스 초기화

```bash
python -m modules.database
```

또는 Streamlit 앱 실행 후 사이드바에서 "데이터베이스 초기화" 버튼 클릭

---

### 3단계: 앱 실행

```bash
streamlit run app.py
```

브라우저가 자동으로 열리고 대시보드가 표시됩니다.

---

## 📱 사용 방법

### Tab 1: 사이콜로지 트랜드 레이더 (뉴스)

#### 뉴스 수집
1. Tab 1로 이동
2. "🔄 뉴스 수집" 버튼 클릭
3. 수집 완료까지 대기 (1-2분 소요)
4. 수집된 뉴스가 자동으로 표시됩니다

#### 뉴스 보기
- 카드 형태로 뉴스가 표시됩니다
- 각 뉴스에는 다음 정보가 포함됩니다:
  - 제목
  - 요약 (AI 생성)
  - 평점 (1~5점)
  - 키워드
  - 원문 링크
- 페이지 번호로 이전/다음 페이지 이동 가능

---

### Tab 2: 아카데믹 아카이브 (논문)

#### 논문 수집
1. Tab 2로 이동
2. "🔄 논문 수집" 버튼 클릭
3. 수집 완료까지 대기 (2-3분 소요)
4. 수집된 논문이 자동으로 표시됩니다

#### 논문 보기
- 각 논문에는 다음 정보가 포함됩니다:
  - 제목
  - 저자
  - 저널명
  - 요약 (목적/방법/결과/시사점)
  - 초록
  - 키워드
  - 원문 링크
- "📋 요약 보기" 버튼으로 상세 요약 확인
- "📄 초록 보기" 버튼으로 전체 초록 확인

---

### Tab 3: 콘텐츠 팩토리

#### 콘텐츠 생성
1. Tab 3로 이동
2. 왼쪽에서 원하는 뉴스 선택 (체크박스)
3. 오른쪽에서 원하는 논문 선택 (체크박스)
4. 템플릿 선택:
   - 블로그 포스트
   - 릴스 대본
   - 게시글
   - 논문 아이디어
5. "✨ 콘텐츠 생성" 버튼 클릭
6. 생성된 콘텐츠 확인 및 복사

---

## 🤖 자동화 설정 (선택)

### Windows 작업 스케줄러 설정

#### 뉴스 자동 수집 (매일 새벽 2시)

1. Windows 작업 스케줄러 열기
   - `Win + R` → `taskschd.msc` 입력

2. 기본 작업 만들기
   - 오른쪽 "기본 작업 만들기" 클릭
   - 이름: "PsyInsight 뉴스 수집"
   - 트리거: 매일, 새벽 2시
   - 작업: 프로그램 시작
   - 프로그램: `python`
   - 인수 추가: `C:\EX\collect_news.py`
   - 시작 위치: `C:\EX`

3. 고급 설정
   - "가장 높은 수준의 권한으로 실행" 체크

#### 논문 자동 수집 (매주 월요일 새벽 2시)

1. 기본 작업 만들기
   - 이름: "PsyInsight 논문 수집"
   - 트리거: 매주, 월요일, 새벽 2시
   - 프로그램: `python`
   - 인수: `C:\EX\collect_papers.py`
   - 시작 위치: `C:\EX`

**자세한 설정 방법:** `SCHEDULER_SETUP.md` 파일 참조

---

## 📧 이메일 알림

### 자동 이메일 발송

뉴스 수집이 완료되면 자동으로 이메일이 발송됩니다:
- 수집된 뉴스 헤드라인
- 요약 및 링크
- 평점이 높은 뉴스 우선 표시

**설정:**
- `.env` 파일에 이메일 정보 입력
- Gmail 앱 비밀번호 사용 필수

---

## 🔧 문제 해결

### "GEMINI_API_KEY가 설정되지 않았습니다" 오류
- `.env` 파일이 프로젝트 루트에 있는지 확인
- API 키가 올바르게 입력되었는지 확인

### "데이터베이스 조회 오류" 발생
- 사이드바에서 "데이터베이스 초기화" 버튼 클릭
- 또는 `python -m modules.database` 실행

### 뉴스/논문 수집이 안 됨
- 인터넷 연결 확인
- API 키가 유효한지 확인
- 로그 확인 (터미널에 오류 메시지 표시)

### 이메일이 발송되지 않음
- Gmail 앱 비밀번호 사용 확인 (일반 비밀번호 아님)
- `.env` 파일의 이메일 정보 확인
- 방화벽에서 포트 587 허용 확인

---

## 💡 팁

1. **첫 실행 시**: 데이터베이스 초기화 필수
2. **뉴스 수집**: 처음에는 키워드당 5개 정도로 테스트
3. **자동화**: PC가 켜져 있어야 작업 스케줄러가 실행됨
4. **이메일**: Gmail 앱 비밀번호는 공백 없이 입력해도 됨

---

## 📚 추가 문서

- `README.md` - 프로젝트 개요
- `SCHEDULER_SETUP.md` - 스케줄러 상세 설정
- `EMAIL_SETUP_GUIDE.md` - 이메일 설정 가이드
- `FINAL_PRD.md` - 프로젝트 요구사항 문서

---

**문제가 발생하면 로그를 확인하거나 문서를 참조하세요!**
